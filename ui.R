# Define UI for application that draws a histogram
shinyUI(fluidPage(theme = shinythemes::shinytheme("superhero"),

    # Application title
    titlePanel("HTS Risk"),

    # Sidebar with a slider input for number of bins
    sidebarLayout(
        sidebarPanel(
            numericInput("ageattest",
                         "Client's Age",
                         value = 0,
                         min = 0,
                         max = 100),
            selectInput("maritalstatus",
                        "Marital Status",
                        choices = c("", as.character(unique(dat$MaritalStatus))),
                        selected = NULL),
            selectInput("gender",
                        "Gender",
                        choices = c("", as.character(unique(dat$Gender))),
                        selected = NULL),
            selectInput("sitecode",
                        "Facility Name",
                        choices = c("", facilities$Name),
                        selected = NULL),
            selectInput("KPtype",
                        "Population type:",
                        choices = c("", population$PopulationType),
                        selected = NULL),
            selectInput("patientdisabled",
                        "Disability Status",
                        choices = c("", as.character(unique(dat$PatientDisabled))),
                        selected = NULL),
            selectInput("clienttestedas",
                        "Client Testing As",
                        choices = c("", as.character(unique(dat$ClientTestedAs))),
                        selected = NULL),
            selectInput("entrypoint",
                        "Entry Point",
                        choices = c("", entrypoint$Name),
                        selected = NULL),
            selectInput("testingstrategy",
                        "Testing Strategy",
                        choices = c("", testingstrategy$Name),
                        selected = NULL),
            selectInput("tbscreening",
                        "TB Screening Results",
                        choices = c("", as.character(unique(dat$TBScreening))),
                        selected = NULL),
            selectInput("clientselftested",
                        "Ever had an HIV Self Test",
                        choices = c("", as.character(unique(dat$ClientSelfTested))),
                        selected = NULL),
            selectInput("evertested",
                        "Ever Tested for HIV by a HealthWorker",
                        choices = c("", as.character(unique(dat$EverTestedForHIV))),
                        selected = NULL),
            conditionalPanel(
                condition = "input.evertested == 'Yes'",
                numericInput("monthssincelasttest",
                             "Months Since Last Test",
                             value = 0,
                             min = 0,
                             max = 50))
        ),

        # Show a plot of the generated distribution
        mainPanel(width = 6,
            actionButton('pred', 'Generate Prediction'),
            br(),
            br(),
            verbatimTextOutput("predText"),
            br(),
            br(),
            actionButton('recPred', 'Save Prediction'),
            br(),
            br(),
            br(),
            br(),
            actionButton('recResult', 'Record Test Result')
        )
    )
))
